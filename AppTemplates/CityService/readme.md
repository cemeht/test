<br />
<p align="center">
  <a href="https://www.tk-nav.ru/">
    <img src="img/logo_TK_big_ru.png" alt="Logo" width="133" height="29">
  </a>

<h3 align="center">Приложение для отображения городской коммунальной техники</h3>


<!-- TABLE OF CONTENTS -->
<details open="open">
  <summary><h2 style="display: inline-block">Содержание</h2></summary>
  <ol>
    <li>
      <a href="#о-проекте">О проекте</a>
    </li>
    <li>
      <a href="#перед-началом">Перед началом</a>
      <ul>
        <li><a href="#установка">Установка</a></li>
      </ul>
    </li>
    <li><a href="#использование">Использование</a></li>
    <li><a href="#контакты">Контакты</a></li>
  </ol>
</details>

## О проекте

<img src="img/screen.png" alt="Скриншот приложения" width="900" height="600">

Данное приложение позволяет в онлайн-режиме наблюдать за группами транспорта на карте.

## Перед началом

Для работы примера нужен доступ к AutoGRAPH Web под учетной записью администратора.

### Установка

1. Скопируйте папку с App в AppTemplates

2. Зайдите в Apps

    <img src="img/menu-apps.png" alt="Apps windows" width="800" height="600">

3. Добавьте новый App, выбрав шаблон CityService (Шаблон - название директории, в которой находится приложение). Если
   требуется, добавьте параметры ClusterSize (размер зоны в пикселях для группировки автомобилей), RefreshTime (
   интервал обновления положений автомобилей в секундах), LogoUrl (путь к логотипу компании), OutdatedTimeout (время в
   минутах, по истечению которого автомобиль считается offline), CustomIcon (путь к произвольной иконке автомобиля,
   ориентация иконки должна быть вверх).

    <img src="img/adding-app.png" alt="Меню" width="644" height="535">

4. Перезагрузите страницу и включите App в меню

    <img src="img/app-in-menu.png" alt="App в меню" width="300" height="255">

   или на панели инструментов.

   <img src="img/app-on-panel.png" alt="App на панели инструментов" width="271" height="71">

5. Если требуется задать список геозон, при нахождении которых нужно исключить автомобиль из показа (например, гараж),
   зайдите в дизайнер параметров объекта, создайте новый слой геозон и выберите из списка все необходимые геозоны для
   исключения.

   <img src="img/add-geofences.png" alt="Добавление параметра Геозона" width="770" height="374">

   Перейдите на закладку "Список параметров", добавьте новый параметр с именем "AppCityServiceVisible", значением
   колонки Список "Финальные" и выражением вида "OutOfGFx", где x - порядковый номер слоя. В указанном ниже примере
   слой "Геозона простоя" второй по счету, поэтому используется выражение OutOfGF2.

   <img src="img/boolean-parameter.png" alt="Добавление параметра Геозона" width="814" height="59">

7. Для интеграции на сайт воспользуйтесь <a href="integration/readme.md">инструкцией</a>.

<!-- USAGE EXAMPLES -->

## Использование

Выберите группу (организацию) и подгруппу (подразделение) автомобилей, все активные автомобили из группы будут
отображены на карте.

<!-- CONTACT -->

## Контакты

E-mail: <a href="mailto:mail@tk-chel.ru">mail@tk-chel.ru</a>
